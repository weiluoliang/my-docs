---
title: JVM的垃圾回收
icon: fab fa-markdown
order: 3
category:
  - Java
tag:
  - jvm
editLink: false
---

## 前言
垃圾的定义： 不再被引用的对象就是垃圾。  
那如何判断一个对象是否被引用呢？
- 引用计数法  用一个标记记录引用次数，当引用次数为0时，就是垃圾
- 可达性分析法  从GC Roots开始，遍历所有对象，如果对象不可达，就是垃圾。

## 垃圾回收算法
- 标记-清除算法  
先标记好回收的对象，然后统一回收
- 标记-压缩算法  
标记好回收的对象，然后将存活的对象压缩到一端，然后回收另一端的空间
- 复制算法  
将内存分为两块，每次只使用一块，当这一块满了，就将存活的对象复制到另一块，然后回收这一块
- 分代算法  
根据对象的存活周期将内存分为不同的区域，然后根据不同的区域使用不同的算法


## 垃圾回收器

### Serial收集器
在新生代使用复制算法，在老年代使用标记-清除算法
- 使用单线程进行回收

优点：简单高效，没有线程切换的开销  
缺点：无法充分利用多核CPU

### ParNew收集器

### Parallel Scavenge收集器

### Serial Old收集器
用于老年代的收集器，使用标记-清除算法

### Parallel Old收集器

### CMS收集器

### G1收集器

### ZGC收集器

### Shenandoah收集器

